<!-- movie-detail.component.html -->
<div class="container mt-4">
  <!-- Header con título y años -->
  <div class="row mb-4">
    <div class="col-12">
      <h1 class="display-4 fw-bold text-primary">{{ pelicula?.titulo }}</h1>
      <h2 class="text-muted">({{ pelicula?.anio }})</h2>
      <hr class="border-primary border-2">
    </div>
  </div>
  
  <!-- Contenido principal en 2 columnas -->
  <div class="row animated fadeIn g-4">
    
    <!-- Columna izquierda - Poster y botón -->
    <div class="col-lg-4 col-md-5">
      <div class="card shadow-lg border-0">
        <img [src]="pelicula.poster" 
             class="card-img-top rounded-top" 
             alt="{{ pelicula?.titulo }}" 
             style="height: 500px; object-fit: cover;">
        
        <div class="card-body p-3">
          <!-- Rating destacado -->
          <div class="text-center mb-3">
            <span class="badge bg-warning text-dark fs-5 px-3 py-2">
              <i class="fas fa-star me-1"></i> {{pelicula.rating}}/10
            </span>
          </div>
          
          <!-- Botón de regresar -->
          <div class="d-grid">
            <a [routerLink]="['/movies']" class="btn btn-outline-danger btn-lg">
              <i class="fas fa-arrow-left me-2"></i>Regresar
            </a>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Columna derecha - Información de la película -->
    <div class="col-lg-8 col-md-7">
      <div class="movie-content">
        
        <!-- Título y sinopsis -->
        <div class="mb-4">
          <h3 class="h2 text-primary fw-bold mb-3">{{ pelicula.titulo }}</h3>
          <p class="lead text-muted lh-lg">{{ pelicula.sinopsis }}</p>
        </div>
        
        <!-- Información técnica en cards -->
        <div class="row g-3 mb-4">
          <div class="col-sm-6">
            <div class="card bg-light border-0 h-100">
              <div class="card-body">
                <h6 class="card-subtitle text-primary mb-2">
                  <i class="fas fa-video me-2"></i>Director
                </h6>
                <p class="card-text fw-semibold">{{ pelicula.director }}</p>
              </div>
            </div>
          </div>
          
          <div class="col-sm-6">
            <div class="card bg-light border-0 h-100">
              <div class="card-body">
                <h6 class="card-subtitle text-primary mb-2">
                  <i class="fas fa-theater-masks me-2"></i>Género
                </h6>
                <p class="card-text fw-semibold">{{ pelicula.genero }}</p>
              </div>
            </div>
          </div>
          
          <div class="col-sm-6">
            <div class="card bg-light border-0 h-100">
              <div class="card-body">
                <h6 class="card-subtitle text-primary mb-2">
                  <i class="fas fa-clock me-2"></i>Duración
                </h6>
                <p class="card-text fw-semibold">{{ pelicula.duracion }}</p>
              </div>
            </div>
          </div>
          
          <div class="col-sm-6">
            <div class="card bg-light border-0 h-100">
              <div class="card-body">
                <h6 class="card-subtitle text-primary mb-2">
                  <i class="fas fa-calendar-alt me-2"></i>Estreno
                </h6>
                <p class="card-text fw-semibold">{{ pelicula.fechaEstreno }}</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Sección del Trailer -->
        <div class="trailer-section mb-4" *ngIf="tieneTrailer()">
          <h5 class="text-primary mb-3">
            <i class="fas fa-play-circle me-2"></i>Trailer Oficial
          </h5>
          <div class="ratio ratio-16x9 shadow-lg rounded overflow-hidden">
            <iframe 
              [src]="trailerUrl" 
              title="Trailer de {{ pelicula?.titulo }}" 
              frameborder="0" 
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
              referrerpolicy="strict-origin-when-cross-origin" 
              allowfullscreen>
            </iframe>
          </div>
        </div>
        
        <!-- BOTÓN COMPRAR ENTRADAS -->
        <div class="purchase-section mt-5">
          <div class="card border-success shadow-lg">
            <div class="card-body text-center p-4">
              <h4 class="text-success mb-3">
                <i class="fas fa-ticket-alt me-2"></i>
                ¡Compra tus entradas ahora!
              </h4>
              <p class="text-muted mb-4">Funciones disponibles desde $8.50</p>
              <button class="btn btn-success btn-lg px-5" 
                      (click)="comprarEntradas()">
                <i class="fas fa-shopping-cart me-2"></i>
                Ver Horarios y Comprar
              </button>
            </div>
          </div>
        </div>

        <!-- Logo del estudio más grande y destacado -->
        <div class="studio-section mt-4">
          <h5 class="text-primary mb-3">
            <i class="fas fa-building me-2"></i>Estudio Cinematográfico
          </h5>
          <div class="studio-logo-container p-4 bg-light rounded-3 text-center">
            <img [src]="pelicula.estudio" 
                 class="estudio-img" 
                 alt="Logo del Estudio" 
                 style="max-width: 200px; height: auto; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));">
          </div>
        </div>
        
      </div>
    </div>
  </div>
</div>