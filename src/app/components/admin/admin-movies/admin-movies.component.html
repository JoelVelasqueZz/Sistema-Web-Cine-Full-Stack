<!-- admin-movies.component.html -->
<div class="admin-movies">

  <!-- Loading overlay -->
  <div class="loading-overlay" *ngIf="cargando">
    <div class="d-flex align-items-center justify-content-center h-100">
      <div class="text-center">
        <div class="spinner-border text-primary mb-3" style="width: 3rem; height: 3rem;"></div>
        <p class="text-muted">Cargando pel√≠culas...</p>
      </div>
    </div>
  </div>

  <!-- ========== VISTA LISTA ========== -->
  <div *ngIf="vistaActual === 'lista' && !cargando">
    
    <!-- Header con estad√≠sticas -->
    <div class="row mb-4">
      <div class="col-12">
        <div class="welcome-card bg-gradient-success text-white p-4 rounded-3 shadow">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h4 class="mb-1">
                <i class="fas fa-film me-2"></i>
                Gesti√≥n de Pel√≠culas
              </h4>
              <p class="mb-0 opacity-75">
                <i class="fas fa-database me-2"></i>
                {{ estadisticas.total }} pel√≠culas en el cat√°logo ‚Ä¢ Rating promedio: {{ estadisticas.ratingPromedio }}
              </p>
            </div>
            <div class="d-none d-md-block">
              <i class="fas fa-video fa-3x opacity-50"></i>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Estad√≠sticas r√°pidas -->
    <div class="row mb-4 g-3">
      <div class="col-lg-3 col-md-6">
        <div class="card stat-card bg-primary text-white h-100 border-0 shadow">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <div class="stat-number">{{ estadisticas.total }}</div>
                <div class="stat-label">Total Pel√≠culas</div>
              </div>
              <div class="stat-icon">
                <i class="fas fa-film fa-2x"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-lg-3 col-md-6">
        <div class="card stat-card bg-success text-white h-100 border-0 shadow">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <div class="stat-number">{{ estadisticas.ratingPromedio }}</div>
                <div class="stat-label">Rating Promedio</div>
              </div>
              <div class="stat-icon">
                <i class="fas fa-star fa-2x"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-lg-3 col-md-6">
        <div class="card stat-card bg-info text-white h-100 border-0 shadow">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <div class="stat-number">{{ getCantidadGeneros() }}</div>
                <div class="stat-label">G√©neros Diferentes</div>
              </div>
              <div class="stat-icon">
                <i class="fas fa-tags fa-2x"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-lg-3 col-md-6">
        <div class="card stat-card bg-warning text-dark h-100 border-0 shadow">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <div class="stat-number">{{ estadisticas.anioMasReciente }}</div>
                <div class="stat-label">A√±o M√°s Reciente</div>
              </div>
              <div class="stat-icon">
                <i class="fas fa-calendar fa-2x"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Herramientas y filtros -->
    <div class="row mb-4">
      <div class="col-12">
        <div class="card shadow-sm">
          <div class="card-header bg-light">
            <div class="d-flex justify-content-between align-items-center">
              <h6 class="mb-0">
                <i class="fas fa-filter me-2 text-primary"></i>
                Filtros y Herramientas
              </h6>
              <div class="btn-group" role="group">
                <button class="btn btn-primary btn-sm" 
                        (click)="mostrarFormularioAgregar()">
                  <i class="fas fa-plus me-1"></i>
                  Nueva Pel√≠cula
                </button>
                <button class="btn btn-outline-secondary btn-sm" 
                        (click)="exportarPeliculas()">
                  <i class="fas fa-download me-1"></i>
                  Exportar
                </button>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="row g-3">
              
              <!-- B√∫squeda por texto -->
              <div class="col-lg-4 col-md-6">
                <label class="form-label small fw-semibold">Buscar pel√≠culas</label>
                <div class="input-group">
                  <input type="text" 
                         class="form-control" 
                         placeholder="T√≠tulo, director, sinopsis..."
                         [(ngModel)]="terminoBusqueda"
                         (input)="aplicarFiltros()">
                  <button class="btn btn-outline-secondary" type="button">
                    <i class="fas fa-search"></i>
                  </button>
                </div>
              </div>
              
              <!-- Filtro por g√©nero -->
              <div class="col-lg-2 col-md-6">
                <label class="form-label small fw-semibold">G√©nero</label>
                <select class="form-select" 
                        [(ngModel)]="filtroGenero"
                        (change)="aplicarFiltros()">
                  <option value="">Todos los g√©neros</option>
                  <option *ngFor="let genero of generosDisponibles" [value]="genero">
                    {{ genero }}
                  </option>
                </select>
              </div>
              
              <!-- Filtro por a√±o -->
              <div class="col-lg-2 col-md-6">
                <label class="form-label small fw-semibold">A√±o</label>
                <select class="form-select" 
                        [(ngModel)]="filtroAnio"
                        (change)="aplicarFiltros()">
                  <option value="">Todos los a√±os</option>
                  <option *ngFor="let anio of getAniosDisponibles()" [value]="anio">
                    {{ anio }}
                  </option>
                </select>
              </div>
              
              <!-- Filtro por rating -->
              <div class="col-lg-2 col-md-6">
                <label class="form-label small fw-semibold">Rating m√≠nimo</label>
                <select class="form-select" 
                        [(ngModel)]="filtroRating"
                        (change)="aplicarFiltros()">
                  <option value="">Cualquier rating</option>
                  <option value="8">8.0+</option>
                  <option value="7">7.0+</option>
                  <option value="6">6.0+</option>
                  <option value="5">5.0+</option>
                </select>
              </div>
              
              <!-- Bot√≥n limpiar filtros -->
              <div class="col-lg-2 col-md-6">
                <label class="form-label small fw-semibold">&nbsp;</label>
                <div class="d-grid">
                  <button class="btn btn-outline-danger btn-sm" 
                          (click)="limpiarFiltros()">
                    <i class="fas fa-times me-1"></i>
                    Limpiar
                  </button>
                </div>
              </div>
              
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Lista de pel√≠culas -->
    <div class="row mb-4">
      <div class="col-12">
        <div class="card shadow-sm">
          <div class="card-header bg-light d-flex justify-content-between align-items-center">
            <h6 class="mb-0">
              <i class="fas fa-list me-2 text-success"></i>
              Pel√≠culas ({{ getRangoElementos() }})
            </h6>
            <div class="d-flex align-items-center gap-2">
              <small class="text-muted">Mostrar:</small>
              <select class="form-select form-select-sm" 
                      style="width: auto;"
                      [(ngModel)]="peliculasPorPagina"
                      (change)="calcularPaginacion()">
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>
          <div class="card-body p-0">
            
            <!-- Loading durante filtrado -->
            <div class="text-center p-4" *ngIf="procesando">
              <div class="spinner-border text-primary"></div>
              <p class="mt-2 text-muted">Procesando...</p>
            </div>

            <!-- Tabla de pel√≠culas -->
            <div class="table-responsive" *ngIf="!procesando">
              <table class="table table-hover mb-0">
                <thead class="bg-light">
                  <tr>
                    <th width="300">Pel√≠cula</th>
                    <th width="120">G√©nero</th>
                    <th width="80">A√±o</th>
                    <th width="100">Rating</th>
                    <th width="120">Duraci√≥n</th>
                    <th width="150">Acciones</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- üî• CAMBIO IMPORTANTE: Agregado trackBy -->
                  <tr *ngFor="let pelicula of getPeliculasPaginaActual(); trackBy: trackPeliculaFn" 
                      class="align-middle">
                    
                    <!-- Poster y t√≠tulo -->
                    <td>
                      <div class="d-flex align-items-center">
                        <img [src]="pelicula.poster" 
                             class="rounded me-3" 
                             width="50" height="75"
                             [alt]="pelicula.titulo"
                             style="object-fit: cover;">
                        <div>
                          <h6 class="mb-1 fw-bold">{{ pelicula.titulo }}</h6>
                          <small class="text-muted">
                            <i class="fas fa-user-tie me-1"></i>
                            {{ pelicula.director }}
                          </small>
                        </div>
                      </div>
                    </td>
                    
                    <!-- G√©nero -->
                    <td>
                      <span class="badge fs-6 px-2 py-1"
                            [class]="'bg-' + getGeneroColor(pelicula.genero)">
                        {{ pelicula.genero }}
                      </span>
                    </td>
                    
                    <!-- A√±o -->
                    <td>
                      <span class="fw-semibold">{{ pelicula.anio }}</span>
                    </td>
                    
                    <!-- Rating -->
                    <td>
                      <span class="badge fs-6 px-2 py-1"
                            [class]="getRatingClass(pelicula.rating)">
                        <i class="fas fa-star me-1"></i>
                        {{ pelicula.rating }}
                      </span>
                    </td>
                    
                    <!-- Duraci√≥n -->
                    <td>
                      <small class="text-muted">
                        <i class="fas fa-clock me-1"></i>
                        {{ formatearDuracion(pelicula.duracion) }}
                      </small>
                    </td>
                    
                    <!-- Acciones -->
                    <td>
                      <div class="btn-group btn-group-sm" role="group">
                        
                      <button class="btn btn-outline-info" 
                        (click)="verPelicula(pelicula)"
                        title="Ver detalles">
                        <i class="fas fa-eye"></i>
                      </button>

                        
                        <!-- üî• CAMBIO IMPORTANTE: Pasar objeto pel√≠cula completo -->
                        <button class="btn btn-outline-primary" 
                                (click)="mostrarFormularioEditar(pelicula)"
                                title="Editar pel√≠cula">
                          <i class="fas fa-edit"></i>
                        </button>
                        
                        <!-- üî• CAMBIO IMPORTANTE: Pasar objeto pel√≠cula completo -->
                        <button class="btn btn-outline-danger" 
                                (click)="confirmarEliminarPelicula(pelicula)"
                                title="Eliminar pel√≠cula">
                          <i class="fas fa-trash"></i>
                        </button>
                        
                      </div>
                    </td>
                    
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Sin resultados -->
            <div class="text-center p-4" *ngIf="!procesando && getPeliculasPaginaActual().length === 0">
              <i class="fas fa-film fa-3x text-muted mb-3"></i>
              <h5 class="text-muted">No se encontraron pel√≠culas</h5>
              <p class="text-muted">
                <span *ngIf="terminoBusqueda || filtroGenero || filtroAnio || filtroRating">
                  Intenta cambiar los filtros de b√∫squeda.
                </span>
                <span *ngIf="!terminoBusqueda && !filtroGenero && !filtroAnio && !filtroRating">
                  No hay pel√≠culas registradas en el sistema.
                </span>
              </p>
              <button class="btn btn-outline-primary" 
                      (click)="limpiarFiltros()"
                      *ngIf="terminoBusqueda || filtroGenero || filtroAnio || filtroRating">
                <i class="fas fa-times me-2"></i>Limpiar Filtros
              </button>
              <button class="btn btn-primary" 
                      (click)="mostrarFormularioAgregar()"
                      *ngIf="!terminoBusqueda && !filtroGenero && !filtroAnio && !filtroRating">
                <i class="fas fa-plus me-2"></i>Agregar Primera Pel√≠cula
              </button>
            </div>

          </div>
          
          <!-- Paginaci√≥n -->
          <div class="card-footer bg-light" *ngIf="!procesando && totalPaginas > 1">
            <nav aria-label="Paginaci√≥n de pel√≠culas">
              <ul class="pagination pagination-sm justify-content-center mb-0">
                
                <!-- Anterior -->
                <li class="page-item" [class.disabled]="paginaActual === 1">
                  <button class="page-link" (click)="cambiarPagina(paginaActual - 1)">
                    <i class="fas fa-chevron-left"></i>
                  </button>
                </li>
                
                <!-- Primera p√°gina -->
                <li class="page-item" *ngIf="paginaActual > 3">
                  <button class="page-link" (click)="cambiarPagina(1)">1</button>
                </li>
                <li class="page-item disabled" *ngIf="paginaActual > 4">
                  <span class="page-link">...</span>
                </li>
                
                <!-- N√∫meros de p√°gina -->
                <li class="page-item" 
                    *ngFor="let pagina of getPaginasArray()"
                    [class.active]="pagina === paginaActual">
                  <button class="page-link" (click)="cambiarPagina(pagina)">
                    {{ pagina }}
                  </button>
                </li>
                
                <!-- √öltima p√°gina -->
                <li class="page-item disabled" *ngIf="paginaActual < totalPaginas - 3">
                  <span class="page-link">...</span>
                </li>
                <li class="page-item" *ngIf="paginaActual < totalPaginas - 2">
                  <button class="page-link" (click)="cambiarPagina(totalPaginas)">{{ totalPaginas }}</button>
                </li>
                
                <!-- Siguiente -->
                <li class="page-item" [class.disabled]="paginaActual === totalPaginas">
                  <button class="page-link" (click)="cambiarPagina(paginaActual + 1)">
                    <i class="fas fa-chevron-right"></i>
                  </button>
                </li>
                
              </ul>
            </nav>
          </div>
          
        </div>
      </div>
    </div>

  </div>

  <!-- ========== VISTA FORMULARIO (AGREGAR/EDITAR) ========== -->
  <div *ngIf="vistaActual === 'agregar' || vistaActual === 'editar'">
    
    <!-- Header del formulario -->
    <div class="row mb-4">
      <div class="col-12">
        <div class="card border-primary">
          <div class="card-header bg-primary text-white">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="mb-0">
                <i class="fas fa-film me-2"></i>
                {{ vistaActual === 'agregar' ? 'Nueva Pel√≠cula' : 'Editar Pel√≠cula' }}
              </h5>
              <button class="btn btn-outline-light btn-sm" 
                      (click)="cambiarVista('lista')">
                <i class="fas fa-arrow-left me-1"></i>
                Volver a la Lista
              </button>
            </div>
          </div>
          <div class="card-body">
            
            <!-- Errores de validaci√≥n -->
            <div class="alert alert-danger" *ngIf="erroresValidacion.length > 0">
              <h6 class="alert-heading">
                <i class="fas fa-exclamation-triangle me-2"></i>
                Errores en el formulario:
              </h6>
              <ul class="mb-0">
                <li *ngFor="let error of erroresValidacion">{{ error }}</li>
              </ul>
            </div>
            
            <!-- Formulario -->
            <form (ngSubmit)="guardarPelicula()" #peliculaFormRef="ngForm">
              <div class="row g-3">
                
                <!-- T√≠tulo -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">
                    <i class="fas fa-heading me-1 text-primary"></i>
                    T√≠tulo *
                  </label>
                  <input type="text" 
                         class="form-control" 
                         [(ngModel)]="peliculaForm.titulo"
                         name="titulo"
                         placeholder="T√≠tulo de la pel√≠cula"
                         required>
                </div>
                
                <!-- Director -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">
                    <i class="fas fa-user-tie me-1 text-primary"></i>
                    Director *
                  </label>
                  <input type="text" 
                         class="form-control" 
                         [(ngModel)]="peliculaForm.director"
                         name="director"
                         placeholder="Nombre del director"
                         required>
                </div>
                
                <!-- Sinopsis -->
                <div class="col-12">
                  <label class="form-label fw-semibold">
                    <i class="fas fa-align-left me-1 text-primary"></i>
                    Sinopsis *
                  </label>
                  <textarea class="form-control" 
                            rows="4"
                            [(ngModel)]="peliculaForm.sinopsis"
                            name="sinopsis"
                            placeholder="Describe la trama de la pel√≠cula..."
                            required></textarea>
                </div>
                
                <!-- G√©nero y A√±o -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">
                    <i class="fas fa-tags me-1 text-primary"></i>
                    G√©nero *
                  </label>
                  <select class="form-select" 
                          [(ngModel)]="peliculaForm.genero"
                          name="genero"
                          required>
                    <option value="">Seleccionar g√©nero</option>
                    <option *ngFor="let genero of generosDisponibles" [value]="genero">
                      {{ genero }}
                    </option>
                  </select>
                </div>
                
               <div class="col-md-6">
  <label class="form-label fw-semibold">
    <i class="fas fa-calendar me-1 text-primary"></i>
    A√±o *
  </label>
  <input type="number" 
       class="form-control" 
       [(ngModel)]="peliculaForm.anio"
       name="anio"
       [min]="1900"
       [max]="maxAnio"
       placeholder="2024"
       required>
</div>

                <!-- Rating y Duraci√≥n -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">
                    <i class="fas fa-star me-1 text-primary"></i>
                    Rating *
                  </label>
                  <input type="number" 
                         class="form-control" 
                         [(ngModel)]="peliculaForm.rating"
                         name="rating"
                         min="0"
                         max="10"
                         step="0.1"
                         placeholder="7.5"
                         required>
                </div>
                
                <div class="col-md-6">
                  <label class="form-label fw-semibold">
                    <i class="fas fa-clock me-1 text-primary"></i>
                    Duraci√≥n *
                  </label>
                  <input type="text" 
                         class="form-control" 
                         [(ngModel)]="peliculaForm.duracion"
                         name="duracion"
                         placeholder="2h 30min"
                         required>
                </div>
                
                <!-- Poster URL con vista previa -->
<div class="col-12">
  <label class="form-label fw-semibold">
    <i class="fas fa-image me-1 text-primary"></i>
    URL del Poster *
  </label>
  
  <div class="row">
    <!-- Input del URL -->
    <div class="col-md-8">
      <input type="text" 
             class="form-control" 
             [(ngModel)]="peliculaForm.poster"
             name="poster"
             placeholder="https://ejemplo.com/imagen.jpg o assets/movies/pelicula.png"
             required>
      <small class="form-text text-muted">
        Puedes usar URLs de internet o rutas locales como assets/movies/imagen.png
      </small>
    </div>
    
    <!-- Vista previa -->
    <div class="col-md-4">
      <div class="poster-preview-container text-center">
        <div *ngIf="peliculaForm.poster && peliculaForm.poster.trim(); else noPoster" 
             class="border rounded p-2 bg-light">
          <img [src]="peliculaForm.poster" 
               class="img-fluid rounded" 
               style="max-height: 120px; max-width: 100%;"
               [alt]="peliculaForm.titulo || 'Vista previa'"
               (error)="onImageError($event)"
               (load)="onImageLoad($event)">
          <div class="mt-1">
            <small class="text-success" *ngIf="imageLoaded">
              <i class="fas fa-check-circle"></i> Imagen v√°lida
            </small>
            <small class="text-danger" *ngIf="imageError">
              <i class="fas fa-exclamation-triangle"></i> Error al cargar
            </small>
          </div>
        </div>
        <ng-template #noPoster>
          <div class="border rounded p-3 bg-light text-muted">
            <i class="fas fa-image fa-2x"></i>
            <br>
            <small>Vista previa</small>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
  
  <!-- Ejemplos de URLs -->
  <div class="mt-2">
    <small class="text-muted">
      <strong>Ejemplos:</strong>
    </small>
    <div class="d-flex flex-wrap gap-2 mt-1">
      <button type="button" 
              class="btn btn-outline-secondary btn-sm"
              (click)="setExamplePoster('assets/movies/ejemplo.png')">
        <i class="fas fa-folder me-1"></i>Assets
      </button>
      <button type="button" 
              class="btn btn-outline-secondary btn-sm"
              (click)="setExamplePoster('https://via.placeholder.com/300x450/007bff/ffffff?text=Poster')">
        <i class="fas fa-globe me-1"></i>URL Externa
      </button>
    </div>
  </div>
</div>
                
                <!-- Estudio -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">
                    <i class="fas fa-building me-1 text-primary"></i>
                    Estudio
                  </label>
                  <select class="form-select" 
                          [(ngModel)]="peliculaForm.estudio"
                          name="estudio">
                    <option value="">Seleccionar estudio</option>
                    <option *ngFor="let estudio of estudiosDisponibles" [value]="estudio">
  {{ getEstudioNombre(estudio) }}
</option>
                  </select>
                </div>
                
                <!-- Fecha de Estreno -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">
                    <i class="fas fa-calendar-day me-1 text-primary"></i>
                    Fecha de Estreno *
                  </label>
                  <input type="date" 
                         class="form-control" 
                         [(ngModel)]="peliculaForm.fechaEstreno"
                         name="fechaEstreno"
                         required>
                </div>
                
                <!-- Trailer ID -->
                <div class="col-md-6">
                  <label class="form-label fw-semibold">
                    <i class="fab fa-youtube me-1 text-danger"></i>
                    ID del Trailer (YouTube)
                  </label>
                  <input type="text" 
                         class="form-control" 
                         [(ngModel)]="peliculaForm.trailer"
                         name="trailer"
                         placeholder="dQw4w9WgXcQ"
                         pattern="[a-zA-Z0-9_-]{11}">
                  <small class="form-text text-muted">
                    Solo el ID del video de YouTube (11 caracteres)
                  </small>
                </div>
                
              </div>
              
              <!-- Botones de acci√≥n -->
              <div class="row mt-4">
                <div class="col-12">
                  <div class="d-flex justify-content-end gap-2">
                    <button type="button" 
                            class="btn btn-outline-secondary"
                            (click)="cambiarVista('lista')">
                      <i class="fas fa-times me-1"></i>
                      Cancelar
                    </button>
                    
                    <button type="submit" 
                            class="btn btn-primary"
                            [disabled]="procesando || !peliculaFormRef.form.valid">
                      <span *ngIf="procesando" class="spinner-border spinner-border-sm me-2"></span>
                      <i class="fas fa-save me-1" *ngIf="!procesando"></i>
                      {{ vistaActual === 'agregar' ? 'Crear Pel√≠cula' : 'Actualizar Pel√≠cula' }}
                    </button>
                  </div>
                </div>
              </div>
              
            </form>
          </div>
        </div>
      </div>
    </div>
    
  </div>

</div>

<!-- Modal de confirmaci√≥n para eliminar -->
<div class="modal fade" [class.show]="mostrarModalConfirmacion" 
     [style.display]="mostrarModalConfirmacion ? 'block' : 'none'"
     *ngIf="mostrarModalConfirmacion">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title">
          <i class="fas fa-exclamation-triangle me-2"></i>
          Confirmar Eliminaci√≥n
        </h5>
      </div>
      <div class="modal-body">
        <p class="mb-3">
          <strong>¬øEst√°s seguro de que deseas eliminar esta pel√≠cula?</strong>
        </p>
        <p class="text-muted mb-0">
          Esta acci√≥n no se puede deshacer. La pel√≠cula ser√° eliminada permanentemente del sistema.
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" 
                class="btn btn-outline-secondary"
                (click)="cerrarModalConfirmacion()">
          <i class="fas fa-times me-1"></i>
          Cancelar
        </button>
        <button type="button" 
                class="btn btn-danger"
                (click)="eliminarPelicula()"
                [disabled]="procesando">
          <span *ngIf="procesando" class="spinner-border spinner-border-sm me-2"></span>
          <i class="fas fa-trash me-1" *ngIf="!procesando"></i>
          Eliminar
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Backdrop del modal -->
<div class="modal-backdrop fade show" *ngIf="mostrarModalConfirmacion"></div>